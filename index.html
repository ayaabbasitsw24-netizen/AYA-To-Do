<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅูุฌุงุฒ ุจูุณ | Enjaz Plus</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&family=Changa:wght@400;700;800&family=Lemonada:wght@400;700&display=swap"
        rel="stylesheet">
    <!-- Icon Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>

<body>

    <!-- Auth Overlay (Login/Signup) -->
    <div id="auth-overlay" class="auth-overlay">
        <div class="auth-card">
            <div class="brand-auth">
                <i class="fas fa-book-reader"></i>
                <h1>ุนูุดููุงูู ุงูุฏููุฑูุงุณูุฉู</h1>
            </div>
            <div id="auth-forms">
                <div id="login-form">
                    <input type="email" id="login-email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู">
                    <input type="password" id="login-password" placeholder="ูููุฉ ุงููุฑูุฑ">
                    <button class="primary-btn" id="login-btn">ุชุณุฌูู ุงูุฏุฎูู</button>
                    <p class="auth-switch">ููุณ ูุฏูู ุญุณุงุจุ <a id="show-signup">ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</a></p>
                </div>
                <div id="signup-form" style="display: none;">
                    <input type="text" id="signup-name" placeholder="ุงุณููู ุงูุฌููู">
                    <input type="email" id="signup-email-new" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู">
                    <input type="password" id="signup-password-new" placeholder="ูููุฉ ุงููุฑูุฑ">
                    <button class="primary-btn" id="signup-btn">ุงุดุชุฑูู ุงูุขู โจ</button>
                    <p class="auth-switch">ูุฏููู ุญุณุงุจ ุจุงููุนูุ <a id="show-login">ุชุณุฌูู ุฏุฎูู</a></p>
                </div>
            </div>
        </div>
    </div>

    <div class="app-wrapper" id="app-wrapper" style="display: none;">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="brand">
                <i class="fas fa-book-reader"></i>
                <h2 style="font-family: 'Lemonada', cursive; font-size: 1.2rem;">ุนูุดููุงูู ุงูุฏููุฑูุงุณูุฉู</h2>
            </div>

            <ul class="nav-menu">
                <li class="nav-item">
                    <a class="nav-link active" data-page="home">
                        <i class="fas fa-home"></i>
                        <span class="nav-text">ุงูุฑุฆูุณูุฉ</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-page="tasks">
                        <i class="fas fa-check-double"></i>
                        <span class="nav-text">ูุงุฆูุฉ ุงูููุงู</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-page="planner">
                        <i class="fas fa-calendar-alt"></i>
                        <span class="nav-text">ุงููุฎุทุท ุงูุฃุณุจูุนู</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-page="materials">
                        <i class="fas fa-book"></i>
                        <span class="nav-text">ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-page="chat">
                        <i class="fas fa-comments"></i>
                        <span class="nav-text">ุฑูู ุงูุฏุฑุฏุดุฉ</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-page="profile">
                        <i class="fas fa-user-heart"></i>
                        <span class="nav-text">ูููู ุงูุดุฎุตู</span>
                    </a>
                </li>
            </ul>

            <div class="sidebar-footer">
                <p style="font-size: 0.7rem; color: var(--text-muted); text-align: center;">ุงูุฅุตุฏุงุฑ ุงูุฐูุจู 1.0 โจ</p>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">

            <!-- Stickers Decorations -->
            <div class="sticker" id="sticker-right">๐</div>

            <!-- Page 1: Home/Dashboard -->
            <div id="home" class="page active">
                <header class="page-header" style="text-align: center;">
                    <h1
                        style="font-family: 'Lemonada', cursive; font-size: 3rem; color: var(--primary); margin-bottom: 10px;">
                        ุนูุดููุงูู ุงูุฏููุฑูุงุณูุฉู โจ</h1>
                    <p class="subtitle">ุทุงุจ ููููู ูุง ุจุทูุฉ ุงูุนูู! ๐ธ</p>
                </header>

                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-stars"></i>
                        <h3 id="stat-total">0</h3>
                        <p>ุฅุฌูุงูู ุงูููุงู</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-heart"></i>
                        <h3 id="stat-done">0</h3>
                        <p>ููุงู ููุชููุฉ</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-leaf"></i>
                        <h3 id="stat-progress">0%</h3>
                        <p>ูุณุจุฉ ุงูุฅุชูุงู</p>
                    </div>
                </div>

                <div class="quick-view">
                    <h3>ุฃุญุฏุซ ุงูููุงู โจ</h3>
                    <ul id="quick-tasks-list" class="task-list" style="margin-top: 20px;">
                        <!-- Mini task list -->
                    </ul>
                </div>
            </div>

            <!-- Page 2: Tasks List -->
            <div id="tasks" class="page">
                <header class="page-header">
                    <h2>ูุงุฆูุฉ ุงูููุงู ุงูุณุญุฑูุฉ โจ</h2>
                    <p class="subtitle">ูู ุฎุทูุฉ ุตุบูุฑุฉ ุชูุฑุจูู ูู ุญูููู ุงููุจูุฑ</p>
                </header>

                <div class="tasks-container">
                    <div class="task-input-group">
                        <input type="text" id="task-input" placeholder="ูุง ูู ุฅูุฌุงุฒูู ุงููุงุฏูุ" autocomplete="off">
                        <button id="add-btn" class="add-btn">ุฃุถููู ุงูุขู โจ</button>
                    </div>
                    <ul id="full-task-list" class="task-list"></ul>
                </div>
            </div>

            <!-- Page 3: Planner -->
            <div id="planner" class="page">
                <header class="page-header">
                    <h2>ูุฎุทุทู ุงูุฃุณุจูุนู ๐</h2>
                    <p class="subtitle">ูุธูู ุฃูุงููู ุจูู ุญุจ ููุถูุญ</p>
                </header>
                <div class="planner-grid">
                    <!-- Example grid -->
                    <div class="day-card">ุงูุณุจุช</div>
                    <div class="day-card">ุงูุฃุญุฏ</div>
                    <div class="day-card">ุงูุงุซููู</div>
                    <div class="day-card">ุงูุซูุงุซุงุก</div>
                    <div class="day-card">ุงูุฃุฑุจุนุงุก</div>
                    <div class="day-card">ุงูุฎููุณ</div>
                    <div class="day-card">ุงูุฌูุนุฉ</div>
                </div>
                <div style="margin-top: 40px; text-align: center;">
                    <img src="https://cdn-icons-png.flaticon.com/512/4341/4341139.png"
                        style="width: 150px; opacity: 0.5;">
                    <p style="color: var(--text-muted);">ููุฒุฉ ุงูุชุฎุทูุท ุงูุชูุตููู ูุงุฏูุฉ ูุฑูุจุงู ๐</p>
                </div>
            </div>

            <!-- Page 4: Study Materials -->
            <div id="materials" class="page">
                <header class="page-header">
                    <h2>ููุงุฏ ุฏุฑุงุณูุฉ ๐</h2>
                    <p class="subtitle">ุงุฑูุน ููุธู ูููุงุชู ุงูุชุนููููุฉ ุจูู ุณูููุฉ</p>
                </header>

                <!-- Main Category Tabs -->
                <div style="display: flex; gap: 15px; margin-bottom: 20px; justify-content: center;">
                    <button class="category-tab active" data-category="theory"
                        style="padding: 15px 40px; border: none; border-radius: 20px; background: var(--primary); color: white; cursor: pointer; font-weight: bold; font-size: 1rem; transition: all 0.3s; box-shadow: var(--card-shadow);">
                        ๐ ููุงุฏ ูุธุฑูุฉ
                    </button>
                    <button class="category-tab" data-category="practical"
                        style="padding: 15px 40px; border: none; border-radius: 20px; background: white; color: var(--text-main); cursor: pointer; font-weight: bold; font-size: 1rem; transition: all 0.3s; box-shadow: var(--card-shadow);">
                        ๐ฌ ููุงุฏ ุนูููุฉ
                    </button>
                </div>

                <!-- Theory Subjects -->
                <div id="theory-subjects">
                    <h3 style="text-align: center; color: var(--text-muted); font-size: 0.9rem; margin-bottom: 15px;">
                        ุงุฎุชุฑ ุงููุงุฏุฉ</h3>
                    <div
                        style="display: flex; gap: 10px; margin-bottom: 25px; flex-wrap: wrap; justify-content: center;">
                        <button class="subject-tab active" data-subject="Image Processing"
                            style="padding: 12px 20px; border: none; border-radius: 18px; background: var(--primary); color: white; cursor: pointer; font-weight: 600; transition: all 0.3s; font-size: 0.85rem;">
                            ๐ผ๏ธ Image Processing
                        </button>
                        <button class="subject-tab" data-subject="Human Computer Interaction"
                            style="padding: 12px 20px; border: none; border-radius: 18px; background: white; color: var(--text-main); cursor: pointer; font-weight: 600; transition: all 0.3s; font-size: 0.85rem; box-shadow: var(--card-shadow);">
                            ๐ฅ HCI
                        </button>
                        <button class="subject-tab" data-subject="Compilers II"
                            style="padding: 12px 20px; border: none; border-radius: 18px; background: white; color: var(--text-main); cursor: pointer; font-weight: 600; transition: all 0.3s; font-size: 0.85rem; box-shadow: var(--card-shadow);">
                            โ๏ธ Compilers II
                        </button>
                        <button class="subject-tab" data-subject="Web Application II"
                            style="padding: 12px 20px; border: none; border-radius: 18px; background: white; color: var(--text-main); cursor: pointer; font-weight: 600; transition: all 0.3s; font-size: 0.85rem; box-shadow: var(--card-shadow);">
                            ๐ Web App II
                        </button>
                        <button class="subject-tab" data-subject="Software Engineering II"
                            style="padding: 12px 20px; border: none; border-radius: 18px; background: white; color: var(--text-main); cursor: pointer; font-weight: 600; transition: all 0.3s; font-size: 0.85rem; box-shadow: var(--card-shadow);">
                            ๐ป Software Eng II
                        </button>
                    </div>
                </div>

                <!-- Practical Subjects -->
                <div id="practical-subjects" style="display: none;">
                    <h3 style="text-align: center; color: var(--text-muted); font-size: 0.9rem; margin-bottom: 15px;">
                        ุงุฎุชุฑ ุงููุงุฏุฉ</h3>
                    <div
                        style="display: flex; gap: 10px; margin-bottom: 25px; flex-wrap: wrap; justify-content: center;">
                        <button class="subject-tab active" data-subject="Compilers II Lab"
                            style="padding: 12px 20px; border: none; border-radius: 18px; background: var(--primary); color: white; cursor: pointer; font-weight: 600; transition: all 0.3s; font-size: 0.85rem;">
                            โ๏ธ Compilers II Lab
                        </button>
                    </div>
                </div>

                <!-- Upload Card -->
                <div
                    style="background: white; padding: 30px; border-radius: 25px; margin-bottom: 30px; box-shadow: var(--card-shadow);">
                    <h3 style="text-align: center; margin-bottom: 20px; color: var(--primary); font-size: 1.2rem;"
                        id="current-subject-title">Image Processing</h3>

                    <div id="lecture-upload-form"
                        style="display: flex; flex-direction: column; gap: 15px; max-width: 500px; margin: 0 auto;">

                        <!-- Lecture Title -->
                        <div>
                            <label
                                style="display: block; font-size: 0.9rem; color: var(--text-main); margin-bottom: 5px; font-weight: bold;">ุนููุงู
                                ุงููุญุงุถุฑุฉ:</label>
                            <input type="text" id="lecture-title-input" placeholder="ูุซุงู: Lecture 1: Introduction"
                                style="width: 100%; padding: 12px; border: 2px solid #eee; border-radius: 15px; outline: none; transition: border-color 0.3s;"
                                onfocus="this.style.borderColor='var(--primary)'"
                                onblur="this.style.borderColor='#eee'">
                        </div>

                        <!-- Lecture PDF -->
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <div style="flex: 1;">
                                <label
                                    style="display: block; font-size: 0.9rem; color: var(--text-main); margin-bottom: 5px; font-weight: bold;">ููู
                                    ุงููุญุงุถุฑุฉ (PDF):</label>
                                <input type="file" id="lecture-pdf-input" accept=".pdf"
                                    style="width: 100%; padding: 10px; background: #f9f9f9; border-radius: 10px;">
                            </div>
                        </div>

                        <!-- Explanation HTML -->
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <div style="flex: 1;">
                                <label
                                    style="display: block; font-size: 0.9rem; color: var(--text-main); margin-bottom: 5px; font-weight: bold;">ููู
                                    ุงูุดุฑุญ (HTML):</label>
                                <input type="file" id="lecture-html-input" accept=".html"
                                    style="width: 100%; padding: 10px; background: #f9f9f9; border-radius: 10px;">
                            </div>
                        </div>

                        <!-- Add Button -->
                        <button id="add-lecture-btn" class="add-btn"
                            style="margin-top: 10px; width: 100%; justify-content: center;">
                            <i class="fas fa-plus-circle"></i> ุฅุถุงูุฉ ุงููุญุงุถุฑุฉ
                        </button>

                    </div>

                    <!-- Legacy Simple File Upload Toggle (Hidden by default, or kept as secondary option) -->
                    <div style="text-align: center; margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px;">
                        <p style="font-size: 0.8rem; color: var(--text-muted); cursor: pointer;"
                            onclick="document.getElementById('legacy-upload-area').style.display = document.getElementById('legacy-upload-area').style.display === 'none' ? 'block' : 'none'">
                            ูู ุชุฑูุฏ ุฑูุน ูููุงุช ูุชูุฑูุฉ ููุทุ (ุงุถุบุท ููุง)
                        </p>
                        <div id="legacy-upload-area" style="display: none; margin-top: 15px;">
                            <input type="file" id="material-upload" multiple
                                accept=".pdf,.doc,.docx,.ppt,.pptx,.jpg,.jpeg,.png,.txt" style="display: none;">
                            <button id="upload-material-btn" class="primary-btn"
                                style="background: #eee; color: var(--text-muted); font-size: 0.9rem;">
                                <i class="fas fa-cloud-upload-alt"></i> ุฑูุน ูููุงุช ุนุงุฏูุฉ
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Stats -->
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px;">
                    <div
                        style="background: white; padding: 20px; border-radius: 20px; text-align: center; box-shadow: var(--card-shadow);">
                        <i class="fas fa-file-alt"
                            style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;"></i>
                        <div style="font-size: 1.8rem; font-weight: bold; color: var(--text-main);" id="files-count">0
                        </div>
                        <div style="font-size: 0.9rem; color: var(--text-muted);">ูููุงุช ูุญููุธุฉ</div>
                    </div>
                    <div
                        style="background: white; padding: 20px; border-radius: 20px; text-align: center; box-shadow: var(--card-shadow);">
                        <i class="fas fa-hdd" style="font-size: 2rem; color: var(--accent); margin-bottom: 10px;"></i>
                        <div style="font-size: 1.8rem; font-weight: bold; color: var(--text-main);" id="storage-used">0
                            KB</div>
                        <div style="font-size: 0.9rem; color: var(--text-muted);">ูุณุงุญุฉ ูุณุชุฎุฏูุฉ</div>
                    </div>
                </div>

                <!-- Materials List -->
                <div id="materials-list">
                    <!-- Materials will be rendered here dynamically -->
                    <div style="text-align: center; padding: 60px 20px;">
                        <i class="fas fa-inbox" style="font-size: 4rem; color: #e0e0e0; margin-bottom: 20px;"></i>
                        <p style="color: var(--text-muted); font-size: 1.1rem;">ูู ุชุฑูุน ุฃู ูููุงุช ุจุนุฏ</p>
                        <p style="color: var(--text-muted); font-size: 0.9rem; margin-top: 10px;">ุงุจุฏุฃ ุจุฑูุน ููุงุฏู
                            ุงูุฏุฑุงุณูุฉ ุงูุขู!</p>
                    </div>
                </div>
            </div>

            <!-- Page 5: Chat -->
            <div id="chat" class="page">
                <header class="page-header">
                    <h2>ุฑูู ุงูุฏุฑุฏุดุฉ ูุงููุดุงุฑูุฉ ๐ฌ</h2>
                    <p class="subtitle">ุดุงุฑู ุฃููุงุฑู ูุน ุฒููุงุฆู ุงูุทููุญูู</p>
                </header>
                <div class="chat-main-wrapper" style="display: flex; gap: 20px; height: 550px;">
                    <!-- Community Sidebar -->
                    <div class="chat-community"
                        style="width: 220px; background: #fff5f7; border-radius: 30px; padding: 20px; display: flex; flex-direction: column; gap: 15px; border: 1px solid #fdeef2;">
                        <div id="global-chat-tab" class="chat-tab active"
                            style="padding: 10px; cursor: pointer; border-radius: 15px; background: var(--primary); color: white; display: flex; align-items: center; gap: 10px; font-size: 0.85rem;">
                            <i class="fas fa-globe"></i> <span>ุงูุบุฑูุฉ ุงูุนุงูุฉ</span>
                        </div>

                        <!-- Search Bar -->
                        <div style="position: relative; margin-bottom: 5px;">
                            <input type="text" id="user-search-input" placeholder="๐ ุจุญุซ ุนู ุตุฏูู (@username)"
                                style="width: 100%; padding: 10px; border-radius: 12px; border: 1px solid #ffb3c6; font-size: 0.8rem; background: rgba(255,255,255,0.7); outline: none;">
                        </div>

                        <h4
                            style="font-size: 0.8rem; color: var(--primary); text-transform: uppercase; margin-top: 10px; margin-bottom: 5px;">
                            ุฑุณุงุฆู ุฎุงุตุฉ (DM)</h4>
                        <div id="private-chats-list" style="display: flex; flex-direction: column; gap: 10px;">
                            <!-- Private Chat items will appear here -->
                        </div>

                        <h4
                            style="font-size: 0.8rem; color: var(--primary); text-transform: uppercase; margin-top: 10px; margin-bottom: 5px;">
                            ุฃุตุฏูุงุก ูุชุตููู</h4>
                        <div id="online-users-list" style="display: flex; flex-direction: column; gap: 10px;"></div>
                        <div style="display:none">
                            <div class="user-online"
                                style="display: flex; align-items: center; gap: 10px; font-size: 0.85rem; cursor: pointer;">
                                <div
                                    style="width: 35px; height: 35px; background: #ffb3c6; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    ๏ฟฝ</div>
                                <span style="flex: 1;">ุณุงุฑุฉ โจ</span>
                                <div style="width: 8px; height: 8px; background: #4ade80; border-radius: 50%;"></div>
                            </div>
                            <div class="user-online"
                                style="display: flex; align-items: center; gap: 10px; font-size: 0.85rem; cursor: pointer;">
                                <div
                                    style="width: 35px; height: 35px; background: #bde0fe; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    ๐ฉโ๏ฟฝ</div>
                                <span style="flex: 1;">ููุฑ ุงูููุฏู</span>
                                <div style="width: 8px; height: 8px; background: #4ade80; border-radius: 50%;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Chat Container -->
                    <div class="chat-container"
                        style="flex: 1; background: white; border-radius: 35px; box-shadow: var(--card-shadow); display: flex; flex-direction: column; overflow: hidden; border: 1px solid #fdeef2;">
                        <div id="chat-messages"
                            style="flex: 1; padding: 25px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px;">
                            <div class="message incoming"
                                style="align-self: flex-start; background: #fdeef2; padding: 12px 20px; border-radius: 20px 20px 20px 5px; color: var(--text-main); font-size: 0.9rem; max-width: 80%;">
                                <strong
                                    style="display: block; font-size: 0.7rem; color: var(--primary); margin-bottom: 5px;">ุณุงุฑุฉ
                                    โจ</strong>
                                ุฃููุงู ุจูููู ูุง ุจุทูุงุช ุงูุนูู! ููู ุญุงู ุงูุฏุฑุงุณุฉ ุงููููุ ๐ธ
                            </div>
                        </div>
                        <div class="chat-input-area"
                            style="padding: 20px; border-top: 1px solid #f9f9f9; display: flex; gap: 10px;">
                            <input type="text" id="chat-input" placeholder="ุงูุชุจู ุฑุณุงูุฉ ููุฒูููุงุช..."
                                style="flex: 1; border: 2px solid #fdeef2; padding: 12px 20px; border-radius: 20px; outline: none;"
                                autocomplete="off">
                            <button id="send-chat-btn"
                                style="background: var(--primary); color: white; border: none; width: 50px; height: 50px; border-radius: 50%; cursor: pointer;">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page 5: Profile -->
            <div id="profile" class="page">
                <header class="page-header">
                    <h2>ุฑููู ุงูุฎุงุต ๐</h2>
                    <p class="subtitle">ุนุฏูู ุจูุงูุงุชู ููุง ุชุญุจ</p>
                </header>
                <div class="profile-card">
                    <div style="text-align: center; padding-bottom: 25px; border-bottom: 2px solid #f5f5f5;">
                        <div class="avatar" id="profile-avatar"
                            style="width: 110px; height: 110px; margin: 0 auto 15px; font-size: 3rem;">๐ค</div>
                        <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
                        <button id="upload-avatar-btn" class="upload-btn"
                            style="padding: 10px 20px; background: var(--accent); border: none; border-radius: 20px; cursor: pointer; font-size: 0.9rem; display: inline-flex; align-items: center; gap: 8px; font-weight: 600;">
                            <i class="fas fa-camera"></i> ุฑูุน ุตูุฑุฉ ุดุฎุตูุฉ
                        </button>
                    </div>

                    <div style="margin-top: 25px; padding-bottom: 25px; border-bottom: 2px solid #f5f5f5;">
                        <label
                            style="display: block; font-size: 0.95rem; color: var(--text-muted); font-weight: bold; margin-bottom: 10px; text-align: right;">
                            <i class="fas fa-user" style="margin-left: 5px;"></i> ุงุณู ุงูุญุณุงุจ (ูุธูุฑ ููุฌููุน)
                        </label>
                        <input type="text" id="edit-display-name" placeholder="ูุซุงู: ุจุทู ุงูุนูู"
                            style="width: 100%; padding: 14px 18px; border: 2px solid #e8e8e8; border-radius: 15px; font-size: 1rem; text-align: right; transition: all 0.3s;">
                    </div>

                    <!-- Theme Selector Section -->
                    <div style="margin-top: 25px; padding-bottom: 25px;">
                        <label
                            style="display: block; font-size: 0.95rem; color: var(--text-muted); font-weight: bold; margin-bottom: 15px; text-align: right;">
                            <i class="fas fa-palette" style="margin-left: 5px; color: var(--primary);"></i> ุงุฎุชุฑ ุงููุธูุฑ
                            ุงูููุถู
                        </label>
                        <div class="theme-selector"
                            style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                            <div class="theme-opt active" data-theme="purple"
                                style="padding: 18px; border-radius: 18px; cursor: pointer; border: 3px solid var(--primary); background: #F8F3FF; text-align: center; transition: all 0.3s;">
                                <div style="font-size: 1.8rem; margin-bottom: 5px;">๐</div>
                                <div style="font-size: 0.85rem; font-weight: bold;">ุจููุณุฌู ุณุญุฑู</div>
                            </div>
                            <div class="theme-opt" data-theme="blue"
                                style="padding: 18px; border-radius: 18px; cursor: pointer; border: 3px solid transparent; background: #F0F7FF; text-align: center; transition: all 0.3s;">
                                <div style="font-size: 1.8rem; margin-bottom: 5px;">๐</div>
                                <div style="font-size: 0.85rem; font-weight: bold;">ุฃุฒุฑู ูุงุฏุฆ</div>
                            </div>
                            <div class="theme-opt" data-theme="green"
                                style="padding: 18px; border-radius: 18px; cursor: pointer; border: 3px solid transparent; background: #F0FFF4; text-align: center; transition: all 0.3s;">
                                <div style="font-size: 1.8rem; margin-bottom: 5px;">๐</div>
                                <div style="font-size: 0.85rem; font-weight: bold;">ุฃุฎุถุฑ ุงูุทุจูุนุฉ</div>
                            </div>
                            <div class="theme-opt" data-theme="pink"
                                style="padding: 18px; border-radius: 18px; cursor: pointer; border: 3px solid transparent; background: #FFF5F7; text-align: center; transition: all 0.3s;">
                                <div style="font-size: 1.8rem; margin-bottom: 5px;">๐ธ</div>
                                <div style="font-size: 0.85rem; font-weight: bold;">ูุฑุฏู ูุทูู</div>
                            </div>
                        </div>
                    </div>

                    <button class="add-btn" id="save-profile-btn"
                        style="margin-top:5px; width: 100%; padding: 16px; font-size: 1.05rem; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                        <i class="fas fa-save"></i> ุญูุธ ุงูุชุบููุฑุงุช
                    </button>
                    <div class="divider" style="height: 1px; background: #eee; margin: 20px 0;"></div>
                    <div style="display: flex; justify-content: space-around; flex-direction: column; gap: 20px;">
                        <button id="share-site-btn" class="nav-link"
                            style="border:1px solid var(--primary); justify-content:center;">
                            <i class="fas fa-share-alt"></i> ูุดุงุฑูุฉ ุงููููุน ูุน ุงูุฃุตุฏูุงุก
                        </button>
                        <button id="logout-btn" style="color:red; background:none; border:none; cursor:pointer;">ุชุณุฌูู
                            ุงูุฎุฑูุฌ</button>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- User Profile Modal (To view others) -->
    <div id="user-profile-modal" class="modal-overlay" style="display: none;">
        <div class="modal-card">
            <button class="close-modal">&times;</button>
            <div class="avatar" id="view-user-avatar"
                style="width: 100px; height: 100px; font-size: 2.5rem; margin: 0 auto 15px;">๐ธ</div>
            <h2 id="view-user-name" style="font-family: 'Lemonada', cursive; font-size: 1.2rem; color: var(--primary);">
                ุงุณู ุงูุฒูููุฉ</h2>
            <p id="view-user-bio" style="color: var(--text-muted); font-size: 0.9rem; margin-top: 10px;">ุนุถู ูุชุฃูู ูู
                ูุฌุชูุน ุนุดุงู ุงูุฏุฑุงุณุฉ โจ</p>
            <div class="user-stats-mini" style="display: flex; justify-content: center; gap: 20px; margin-top: 20px;">
                <div class="mini-stat">
                    <span style="display: block; font-weight: bold; color: var(--text-main);">12</span>
                    <small style="color: var(--text-muted);">ุฅูุฌุงุฒุงุช</small>
                </div>
                <div class="mini-stat">
                    <span style="display: block; font-weight: bold; color: var(--text-main);">5</span>
                    <small style="color: var(--text-muted);">ุฃูุณูุฉ</small>
                </div>
            </div>
            <button id="start-private-chat-btn" class="primary-btn"
                style="margin-top: 25px; background: var(--accent); color: var(--text-main);">
                <i class="fas fa-comment-dots"></i> ุจุฏุก ูุญุงุฏุซุฉ ุฎุงุตุฉ ๐ธ
            </button>
        </div>
    </div>

 <!-- Firebase v8 (compat) -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore-compat.js"></script>
</body>


</html>
